# Toggle Vault Configuration
# Copy this file and customize for your environment

azure:
  # ===========================================================================
  # CLOUD ENVIRONMENT - Configure for your Azure cloud
  # ===========================================================================
  
  # Azure cloud type (required for sovereign/government clouds)
  # Options: AzureCloud, AzureUSGovernment, AzureUSSecret (USSec), AzureUSNat
  cloud: "AzureUSGovernment"
  
  # Azure region for regional CA certificate endpoints
  # USSec regions: usseceast, ussecwest, ussecwestcentral
  # USNat regions: usnateast, usnatwest
  # USGov regions: usgovvirginia, usgovarizona, usgovtexas
  region: "usgovvirginia"
  
  # Cloud-specific endpoints (auto-configured based on cloud type, override if needed)
  # endpoints:
  #   management: "https://management.usgovcloudapi.net"
  #   storage_suffix: "blob.core.usgovcloudapi.net"
  #   ca_certs: "https://cacerts.microsoft.scloud"  # For USSec
  
  # ===========================================================================
  # STORAGE ACCOUNTS - Choose one of the following options:
  # ===========================================================================
  
  # OPTION A: Multiple storage accounts (recommended for multi-account/cross-subscription)
  # storage_accounts:
  #   - name: "storageaccount1"
  #     subscription_id: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"  # Optional: for cross-subscription
  #     resource_group: "rg-storage-1"
  #     scan_all_containers: true
  #     prefix: ""
  #   
  #   - name: "storageaccount2"
  #     subscription_id: "yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy"
  #     resource_group: "rg-storage-2"
  #     container: "toggles"  # Watch specific container
  #     prefix: "config/"     # Only files with this prefix
  #   
  #   - name: "storageaccount3"
  #     resource_group: "rg-storage-3"
  #     containers:           # Watch multiple specific containers
  #       - "toggles"
  #       - "settings"
  
  # OPTION B: Single storage account (legacy, still supported)
  storage_account: "mystorageaccount"
  
  # Container scope for single storage account:
  container: "toggles"              # Single container
  # containers:                     # OR multiple containers
  #   - "toggles"
  #   - "config"
  # scan_all_containers: true       # OR scan all containers
  
  # Optional: only watch files under this prefix/folder
  prefix: ""
  
  # ===========================================================================
  # AUTHENTICATION - Choose one method
  # ===========================================================================
  
  # Option 1: Connection string (simplest, for local development)
  # connection_string: "${AZURE_STORAGE_CONNECTION_STRING}"
  
  # Option 2: SAS token
  # sas_token: "${AZURE_STORAGE_SAS_TOKEN}"
  
  # Option 3: Service Principal
  # tenant_id: "${AZURE_TENANT_ID}"
  # client_id: "${AZURE_CLIENT_ID}"
  # client_secret: "${AZURE_CLIENT_SECRET}"
  
  # Option 4: Managed Identity (recommended for Azure deployments)
  use_managed_identity: true

sync:
  # How often to check for changes
  interval: 60s
  
  # File patterns to watch (glob patterns)
  patterns:
    - "*.yaml"
    - "*.yml"

database:
  # Path to SQLite database file
  path: "./toggle-vault.db"

server:
  # HTTP server settings
  port: 8080
  host: "0.0.0.0"
